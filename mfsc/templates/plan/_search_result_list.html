{% load staticfiles %}

<h2 class="red-head">{{ result_count }} Actions in this view</h2>

<ul class="search-results"> 
{% for action in object_list %}
  <li>
    <a href="{% url 'plan:action_detail' action.id %}">
      {{ action.rec.goal.sector.title }} {{ action.rec.goal.goal_num }}.{{ action.rec.rec_num }}.{{ action.action_num }}</a>
      {{ action.description|safe }}
    
  </li>
{% endfor %} {# end action list #}
</ul>

{% if is_paginated %}
{# JavaScript will change class="page-nav" click to form submission #}

<nav id="paging">
<ul class="previous">
  {% if page_obj.has_previous %}
    <li class="page-nav prev-link">
      <a href="?page={{ page_obj.previous_page_number }}">&lang; prev</a>
    </li>
  {% else %}
    <li class="page-nav--disabled prev-link">&lang; prev</li>
  {% endif %}
</ul>


<ul class="page-numbers">
  {% for page_number in paginator.page_range %}
    {% if page_number = page_obj.number %}
      <li class="page-nav--selected">{{ page_number }}</li>
    {% else %}
      <li class="page-nav">
        <a href="?page={{ page_number }}">{{ page_number }}</a>
      </li>
    {% endif %}
  {% endfor %}
</ul>

<ul class="next">
  {% if page_obj.has_next %}
    <li class="page-nav next-link">
      <a href="?page={{ page_obj.next_page_number }}">next &rang;</a>
    </li>
  {% else %}
    <li class="page-nav--disabled next-link">next &rang;</li>
  {% endif %}

</ul>
</nav><!--/paging -->

{% endif %}
